{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/SearchBar/SearchBar.module.css","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/SearchBar/Searchbar.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Button","onClick","className","s","type","ImageGalleryItem","url","alt","onGetImg","largeImageURL","src","width","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","onClose","onCloseByClick","e","target","nodeName","onCloseByKedown","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","img","Searchbar","onSubmit","useState","imageName","setImageName","SearchForm","event","preventDefault","trim","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoomplete","autoFocus","placeholder","value","onChange","currentTarget","MY_KEY","ImageGallery","imageList","setImageList","query","setQuery","page","setPage","status","setStatus","showModal","setShowModal","modalImage","setModalImage","scrollTo","top","documentElement","scrollHeight","behavior","fetch","then","response","ok","json","Promise","reject","Error","hits","prev","catch","error","alert","finally","toggleModal","setModalImg","imageListComponent","map","image","id","webformatURL","tags","toString","length","prevPage","prevState","color","height","timeout","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.117ff6ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2rpnC\",\"Modal\":\"Modal_Modal__3eThg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__36BgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3_JE5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1jNl_\",\"SearchForm\":\"SearchBar_SearchForm__2MfOc\",\"SearchFormButton\":\"SearchBar_SearchFormButton__22G6E\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__1Yc3T\",\"SearchFormInput\":\"SearchBar_SearchFormInput__38Jv8\"};","import React from 'react';\r\nimport s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={s.Button} type={'button'} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\nexport default function ImageGalleryItem({\r\n  url,\r\n  alt,\r\n  onGetImg,\r\n  largeImageURL,\r\n}) {\r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => {\r\n        onGetImg(largeImageURL, alt);\r\n      }}\r\n    >\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        width=\"200\"\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  onGetImg: PropTypes.func,\r\n  largeImageURL: PropTypes.string,\r\n};\r\n","import { useEffect } from 'react';\r\nimport React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nfunction Modal({ onGetImg, onClose }) {\r\n\r\n \r\n  const onCloseByClick = e => {\r\n    if (e.target.nodeName === 'DIV') {\r\n      onClose();\r\n    }\r\n  };\r\n  const onCloseByKedown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n useEffect(() => {\r\n    window.addEventListener('click', onCloseByClick);\r\n    window.addEventListener('keydown', onCloseByKedown);\r\n    return () => {\r\n      window.removeEventListener('keydown', onCloseByKedown);\r\n    };\r\n  }, []);\r\n  return createPortal(\r\n    <div className={s.Overlay} onClose={onClose}>\r\n      <div className={s.Modal}>\r\n        <img src={onGetImg.img} alt={onGetImg.alt} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  onGetImg: PropTypes.object,\r\n  onClose: PropTypes.func,\r\n};\r\n","\r\nimport React, { useState } from 'react';\r\n\r\nimport s from './SearchBar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Searchbar ({onSubmit}) {\r\n\r\n  const [imageName, setImageName] = useState('')\r\n  \r\n  const handleChange = e => {\r\n   setImageName(e.currentTarget.value)\r\n  };\r\n\r\n const handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (imageName.trim() === '') {\r\n      return;\r\n    }\r\n\r\n    onSubmit(imageName);\r\n    setImageName('')\r\n  };\r\n\r\n \r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoomplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={imageName}\r\n            onChange={handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  \r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import Button from 'components/Button/Button';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from 'components/Modal/Modal';\r\nimport Searchbar from 'components/SearchBar/Searchbar';\r\nimport React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst MY_KEY = '23677072-ad1f1d27f5221362a9cf8bc21';\r\n\r\nfunction ImageGallery( ) {\r\n\r\n  const [imageList, setImageList] = useState([]);\r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [status, setStatus] = useState('idle');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalImage, setModalImage] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!query) {\r\n      return;\r\n    }\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n\r\n    setStatus('pending');\r\n\r\n    fetch(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        return Promise.reject(new Error(`Can not find ${query}!`));\r\n      })\r\n      .then(response => {\r\n        setImageList(response.hits);\r\n        setPage(prev => prev + 1);\r\n        setStatus('resolved');\r\n      })\r\n      .catch(error => alert('Ой что-то пошло не так((('))\r\n      .finally(() => setStatus('resolved'));\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('click', e => {\r\n      if (e.target.nodeName === 'IMG') {\r\n        toggleModal();\r\n      }\r\n    });\r\n  });\r\n\r\n  const loadMore = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n    fetch(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        return Promise.reject(new Error(`Can not find ${query}!`));\r\n      })\r\n      .then(response => {\r\n        setImageList(prevState => [...prevState, ...response.hits]);\r\n        setStatus('resolved');\r\n      })\r\n      .catch(error => alert('Ой что-то пошло не так((('))\r\n      .finally(() => setStatus('resolved'));\r\n  };\r\n\r\n \r\n  const searchQuery = imageName => {\r\n    setQuery(imageName);\r\n    setPage(1);\r\n    setImageList([]);\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(prev => !prev);\r\n  };\r\n  const setModalImg = (img, alt) => {\r\n    setModalImage({ img: img, alt: alt });\r\n  };\r\n\r\n  const imageListComponent = imageList.map(image => {\r\n    const { id, webformatURL, tags, largeImageURL } = image;\r\n    return (\r\n      <>\r\n        \r\n        <ImageGalleryItem\r\n       key={id.toString()}\r\n          url={webformatURL}\r\n          alt={tags}\r\n          largeImageURL={largeImageURL}\r\n          onGetImg={setModalImg}\r\n        />\r\n      </>\r\n    );\r\n  });\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={searchQuery} />\r\n      <ul className={s.ImageGallery}>{imageListComponent}</ul>\r\n      {imageList.length !== 0 && <Button onClick={loadMore} />}\r\n      {status === 'pending' && (\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000}\r\n        />\r\n      )}\r\n      {showModal && <Modal onGetImg={modalImage} onClose={toggleModal} />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import ImageGallery from 'components/ImageGallery/ImageGallery';\r\n// import Searchbar from 'components/SearchBar/Searchbar';\r\nimport React from 'react';\r\n// import { useState } from 'react';\r\n\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n   \r\n//   const [imageName, setImageName] = useState('')\r\n\r\n//  const handleFormSubmit = imageName => {\r\n//     setImageName(imageName)\r\n//   };\r\n\r\n  \r\n    return (\r\n      <>\r\n        {/* <Searchbar onSubmit={handleFormSubmit} /> */}\r\n        <ImageGallery />\r\n      </>\r\n    );\r\n  \r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2jYP_\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1RpP4\"};"],"sourceRoot":""}