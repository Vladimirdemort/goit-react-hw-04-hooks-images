(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={Overlay:"Modal_Overlay__2rpnC",Modal:"Modal_Modal__3eThg"}},12:function(e,t,n){e.exports={Button:"Button_Button__36BgP"}},14:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__3_JE5"}},19:function(e,t,n){},4:function(e,t,n){e.exports={Searchbar:"SearchBar_Searchbar__1jNl_",SearchForm:"SearchBar_SearchForm__2MfOc",SearchFormButton:"SearchBar_SearchFormButton__22G6E",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__1Yc3T",SearchFormInput:"SearchBar_SearchFormInput__38Jv8"}},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),i=(n(19),n(11)),l=n(3),u=n(12),s=n.n(u),m=n(1);function j(e){var t=e.onClick;return Object(m.jsx)("button",{className:s.a.Button,type:"button",onClick:t,children:"Load more"})}var h=n(9),f=n.n(h);function b(e){var t=e.url,n=e.alt,a=e.onGetImg,c=e.largeImageURL;return Object(m.jsx)("li",{className:f.a.ImageGalleryItem,onClick:function(){a(c,n)},children:Object(m.jsx)("img",{src:t,alt:n,width:"200",className:f.a.ImageGalleryItemImage})})}var d=n(10),g=n.n(d),O=document.querySelector("#modal-root");var p=function(e){var t=e.onGetImg,n=e.onClose,c=function(e){"DIV"===e.target.nodeName&&n()},o=function(e){"Escape"===e.code&&n()};return Object(a.useEffect)((function(){return window.addEventListener("click",c),window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}),[]),Object(r.createPortal)(Object(m.jsx)("div",{className:g.a.Overlay,onClose:n,children:Object(m.jsx)("div",{className:g.a.Modal,children:Object(m.jsx)("img",{src:t.img,alt:t.alt})})}),O)},_=n(4),I=n.n(_);var S=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:I.a.Searchbar,children:Object(m.jsxs)("form",{className:I.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()&&(t(r),o(""))},children:[Object(m.jsx)("button",{type:"submit",className:I.a.SearchFormButton,children:Object(m.jsx)("span",{className:I.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:I.a.SearchFormInput,type:"text",autoomplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value)}})]})})},v=n(13),x=n.n(v),y=n(14),w=n.n(y),F="23677072-ad1f1d27f5221362a9cf8bc21";var B=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),u=o[0],s=o[1],h=Object(a.useState)(1),f=Object(l.a)(h,2),d=f[0],g=f[1],O=Object(a.useState)("idle"),_=Object(l.a)(O,2),I=_[0],v=_[1],y=Object(a.useState)(!1),B=Object(l.a)(y,2),G=B[0],k=B[1],E=Object(a.useState)(""),N=Object(l.a)(E,2),L=N[0],C=N[1];Object(a.useEffect)((function(){u&&(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),v("pending"),fetch("https://pixabay.com/api/?q=".concat(u,"&page=").concat(d,"&key=").concat(F,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Can not find ".concat(u,"!")))})).then((function(e){c(e.hits),g((function(e){return e+1})),v("resolved")})).catch((function(e){return alert("\u041e\u0439 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a(((")})).finally((function(){return v("resolved")})))}),[u]),Object(a.useEffect)((function(){window.addEventListener("click",(function(e){"IMG"===e.target.nodeName&&M()}))}));var M=function(){k((function(e){return!e}))},P=function(e,t){C({img:e,alt:t})},R=n.map((function(e){var t=e.id,n=e.webformatURL,a=e.tags,c=e.largeImageURL;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(b,{url:n,alt:a,largeImageURL:c,onGetImg:P},t.toString())})}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(S,{onSubmit:function(e){s(e),g(1),c([])}}),Object(m.jsx)("ul",{className:w.a.ImageGallery,children:R}),0!==n.length&&Object(m.jsx)(j,{onClick:function(){g((function(e){return e+1})),fetch("https://pixabay.com/api/?q=".concat(u,"&page=").concat(d,"&key=").concat(F,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Can not find ".concat(u,"!")))})).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),v("resolved")})).catch((function(e){return alert("\u041e\u0439 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a(((")})).finally((function(){return v("resolved")}))}}),"pending"===I&&Object(m.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),G&&Object(m.jsx)(p,{onGetImg:L,onClose:M})]})};n(41);var G=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(B,{})})};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(G,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2jYP_",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1RpP4"}}},[[42,1,2]]]);
//# sourceMappingURL=main.117ff6ba.chunk.js.map